# 웹소켓 싱글플레이 게임 프로젝트
### 내일배움캠프 Node.js 7기

---

## 게임 기획서

### 1. 게임 개요
- 게임 장르: 실시간 싱글플레이 서바이벌 액션
- 플랫폼: 웹 브라우저
- 개발 도구: Node.js, Socket.io, HTML5 Canvas

### 2. 게임 메커니즘
- 플레이어는 무당벌레를 조종하여 적들을 피하거나 처치하며 생존
- 방향키로 이동
- 마우스 클릭으로 아이템 사용
- 적과 닿으면 게임오버
- 아이탬과 닿으면 해당 아이템의 효과 발동
- 적군의 스폰량은 점수에 비례해서 증가
- 구체적인 이동 속도 수치 정의 필요
  - 플레이어 기본 이동 속도: N px/frame
  - 적 기본 이동 속도: N px/frame
- 화면 크기 및 해상도 명시 필요
  - 권장 해상도: 예: 1280x720px

### 3. 캐릭터 및 적
#### 플레이어 캐릭터
- 무당벌레 테마의 캐릭터
- 기본 이동 속도: 중간
- 적에 닿으면 사망

#### 적 캐릭터
- 빨간색 적 캐릭터들
- 화면 윗면에서 랜덤방향을 가지고 스폰
- 시간에 따라 증가하는 스폰량
- 이동패턴은 랜덤방향으로 직선

### 4. 아이템 시스템
- 화면 윗면에서 랜덤방향을 가지고 스폰
- 아이템 획득 시 자동 발동
- 동시에 최대 2개의 아이템이 맵에 존재
- 아이템 스폰 주기 랜덤
- 각 아이템별 출현 확률 모두 같음
- 각 투사체의 이동 속도 정의 필요

1. 가시 발사기
   - 전방위 8방향 가시 발사
   - 한 발당 적 하나 처치
   - 획득 즉시 발동

2. 돌던지기
   - 관통형 투사체
   - 획득 시 즉시 랜덤방향으로 발사
   - 관통

3. 탱탱볼
   - 벽에 2회 튕기는 특수 공격
   - 튕길 때마다 방향 변경
   - 획득 시 즉시 랜덤 방향으로 3개 발사
   - 관통

4. 보호구역
   - 획득 시 즉시 3초간 보호구역 생성


### 5. 게임 진행
- 시간제 서바이벌 방식
- 시간에 따른 난이도 증가
  - 300점마다 적 스폰 속도 10% 증가
- 점수 시스템
  - 생존 시간: 1초당 1점
  - 적 처치: 10점
  - 아이템 획득: 5점
- 최고 점수 기록 시스템

### 6. 사용자 인터페이스
- 상단 HUD
  - 현재 점수
  - 생존 시간
  - 최고 점수 표시
- 아무키나 누르면 게임 시작

### 7. 사운드
- BGM: 경쾌한 배경음악
- 효과음
  - 아이템 사용
  - 적 처치
  - 피격
  - 게임 오버

### 8. 기술 스택
- Frontend
  - HTML5 Canvas: 게임 렌더링
  - JavaScript: 게임 로직 구현
  - Socket.io-client: 실시간 통신
  - CSS: UI 스타일링

- Backend
  - Node.js: 서버 런타임
  - Express: 웹 서버 프레임워크
  - Socket.io: 실시간 양방향 통신

### 9. 시스템 아키텍처
#### 클라이언트 구조
- Game Engine
  - GameLoop: 게임 메인 루프 관리
  - Renderer: Canvas 렌더링 처리
  - InputHandler: 키보드/마우스 입력 처리
  - CollisionDetector: 충돌 감지 시스템
  - EntityManager: 게임 오브젝트 관리
  - AudioManager: 사운드 재생 관리

- Game Objects
  - Player: 플레이어 캐릭터 클래스
  - Enemy: 적 캐릭터 클래스
  - Item: 아이템 클래스
  - Projectile: 발사체 클래스

#### 서버 구조
- Socket Events
  - 게임 시작/종료 이벤트
  - 점수 기록 이벤트
  - 최고 점수 동기화

### 10. 성능 고려사항

- 충돌 감지 최적화
  - Spatial Partitioning 구현
  - Broad Phase & Narrow Phase 충돌 감지
- 최대 동시 출현 적 개체 수 제한 설정
- 최대 동시 출현 투사체 수 제한 설정


